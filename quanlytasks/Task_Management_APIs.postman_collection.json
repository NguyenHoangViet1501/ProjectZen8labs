{
	"info": {
		"_postman_id": "task-management-api",
		"name": "Task Management APIs",
		"description": "Collection test các API quản lý task (API 3-17)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@test.com\",\n    \"password\": \"123456\",\n    \"fullName\": \"Test User\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						}
					}
				},
				{
					"name": "Register Admin",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@test.com\",\n    \"password\": \"123456\",\n    \"fullName\": \"Admin User\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register-admin",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"register-admin"
							]
						}
					}
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.collectionVariables.set(\"token\", jsonData.token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@test.com\",\n    \"password\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					}
				}
			]
		},
		{
			"name": "Task APIs",
			"item": [
				{
					"name": "API #3 - Tạo Task",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Hoàn thành module authentication\",\n    \"description\": \"Cần hoàn thành đăng nhập, đăng ký và xác thực email\",\n    \"priority\": \"HIGH\",\n    \"dueDate\": \"2025-01-15T23:59:59\",\n    \"tags\": [\"backend\", \"urgent\", \"authentication\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks"
							]
						}
					}
				},
				{
					"name": "API #4 - Cập nhật Task",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Hoàn thành module authentication - Updated\",\n    \"description\": \"Cần hoàn thành đăng nhập, đăng ký, xác thực email và reset password\",\n    \"priority\": \"MEDIUM\",\n    \"dueDate\": \"2025-01-20T23:59:59\",\n    \"tags\": [\"backend\", \"authentication\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								"1"
							]
						}
					}
				},
				{
					"name": "API #5 - Xóa Task (Soft Delete)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								"1"
							]
						}
					}
				},
				{
					"name": "API #6 - Xem danh sách Task (không filter)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tasks",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks"
							]
						}
					}
				},
				{
					"name": "API #6 - Xem danh sách Task (có filter)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tasks?status=TODO&priority=HIGH&page=0&size=8",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks"
							],
							"query": [
								{
									"key": "status",
									"value": "TODO"
								},
								{
									"key": "priority",
									"value": "HIGH"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "8"
								}
							]
						}
					}
				},
				{
					"name": "API #7 - Xem chi tiết Task",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								"1"
							]
						}
					}
				},
				{
					"name": "API #8 - Assign Task (ADMIN only)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"assigneeId\": 2\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks/1/assign",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								"1",
								"assign"
							]
						}
					}
				},
				{
					"name": "API #9 - Update Task Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"IN_PROGRESS\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tasks/1/status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								"1",
								"status"
							]
						}
					}
				},
				{
					"name": "API #17 - Xem lịch sử Task",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/1/history",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								"1",
								"history"
							]
						}
					}
				},
				{
					"name": "API #18 - Export Tasks to Excel",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/export",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tasks",
								"export"
							]
						}
					}
				}
			]
		},
		{
			"name": "SubTask APIs",
			"item": [
				{
					"name": "API #10 - Tạo SubTask",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"parentTaskId\": 1,\n    \"title\": \"Implement login API\",\n    \"description\": \"Tạo endpoint POST /api/auth/login\",\n    \"assigneeId\": 2\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/subtasks",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"subtasks"
							]
						}
					}
				},
				{
					"name": "API #11 - Update SubTask",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Implement login API - Updated\",\n    \"description\": \"Tạo endpoint POST /api/auth/login với JWT\",\n    \"status\": \"IN_PROGRESS\",\n    \"assigneeId\": 2\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/subtasks/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"subtasks",
								"1"
							]
						}
					}
				},
				{
					"name": "API #12 - Xóa SubTask (Soft Delete)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/subtasks/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"subtasks",
								"1"
							]
						}
					}
				},
				{
					"name": "API #13 - Xem chi tiết SubTask",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/subtasks/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"subtasks",
								"1"
							]
						}
					}
				}
			]
		},
		{
			"name": "Comment APIs",
			"item": [
				{
					"name": "API #14 - Tạo Comment trong Task",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"taskId\": 1,\n    \"content\": \"Đã review code, cần sửa một số chỗ về validation\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/comments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"comments"
							]
						}
					}
				},
				{
					"name": "Lấy Comments của Task",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/comments/task/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"comments",
								"task",
								"1"
							]
						}
					}
				}
			]
		},
		{
			"name": "Notification APIs",
			"item": [
				{
					"name": "API #16 - Xem danh sách Notification",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/notifications?page=0&size=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications"
							],
							"query": [
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						}
					}
				},
				{
					"name": "Đánh dấu Notification đã đọc",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/notifications/1/read",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications",
								"1",
								"read"
							]
						}
					}
				},
				{
					"name": "Đánh dấu tất cả Notification đã đọc",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/notifications/read-all",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications",
								"read-all"
							]
						}
					}
				},
				{
					"name": "API #19 - Cập nhật FCM Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fcmToken\": \"your_fcm_token_from_firebase_js_sdk\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/notifications/fcm-token",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications",
								"fcm-token"
							]
						}
					}
				}
			]
		}
	]
}